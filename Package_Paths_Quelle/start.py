from bs4 import BeautifulSoup
import subprocess

# mvn dependency:tree -DoutputFile=C:\Users\flori\Documents\AbschlussarbeitProjekt\TestOrdner\baum.txt -DoutputType=text -a


#https://stackabuse.com/parsing-xml-with-beautifulsoup-in-python/
with open('baum.graphml', 'r') as f:
    xmlfile = f.read() 

soup = BeautifulSoup(xmlfile, 'xml')


list = soup.find_all("y:NodeLabel")

edited_list = []

for package in list:
    package = package.get_text()

    package = package.replace(":compile","")
    package = package.replace(":runtime","")
    package = package.replace(":provided","")

    edited_list.append(package)

    pass

print(edited_list)

filepath_list = []


File = open("PackagePaths.txt", "w")

for entry in edited_list:
    entry = entry.replace(":jar","")
    split_link = entry.split(":")
    split_link[0] = split_link[0].replace(".","\\")
    new_link = split_link[0] + "\\" + split_link[1] + "\\" + split_link[2]
    print(new_link)
    File.write(new_link + "\n")
    pass

File.close()



